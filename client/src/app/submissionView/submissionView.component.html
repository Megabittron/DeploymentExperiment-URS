<div class="submission-container" *ngIf="submission">

    <div class="submission-content">

        <!-- TODO: Style in the theme instead of in component's scss -->
        <div class="button-container">
            <button mat-button class="back-to-list" routerLink="/submissionList">
                <mat-icon>arrow_back</mat-icon> Back to Submission List
            </button>

            <br>

            <div class="submission-judgement-btns">
                <button mat-button class="approve">
                    <mat-icon>thumb_up</mat-icon> Give Adviser Approval [W]
                </button>

                <button mat-button class="reject">
                    <mat-icon>thumb_down</mat-icon> Reject Submission [W]
                </button>

                <button mat-button class="flag">
                    <mat-icon>flag</mat-icon> Flag for Re-Submission [W]
                </button>
            </div>
        </div>

        <div>
            <h1>{{submission.presentationTitle}}</h1>
            <p>Presenter: {{submission.firstPresenterFirstName}} {{submission.firstPresenterLastName}}</p>
            <p>Adviser: {{submission.firstAdvisorFirstName}} {{submission.firstAdvisorLastName}}</p>
            <p *ngIf="submission.secondAdvisorFirstName">CoAdviser(s):
                {{submission.secondAdvisorFirstName}} {{submission.secondAdvisorLastName}}
                <!-- TODO: Add condition for third adviser -->
            </p>
        </div>

        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    More Details
                </mat-panel-title>
            </mat-expansion-panel-header>

            <p>Presenter Email: {{submission.firstPresenterEmail}}</p>
            <p>Adviser Email: {{submission.firstAdvisorEmail}}</p>
            <p *ngIf="submission.secondAdvisorEmail">CoAdviser(s) email:
                {{submission.secondAdvisorEmail}} {{submission.thirdAdvisorEmail}}
                <!-- TODO: Add condition for third adviser -->
            </p>
            <p *ngIf="submission.academicDiscipline">Discipline: {{submission.academicDiscipline}}</p>
            <p>Type: {{submission.presentationType}}</p>
            <p>Format: {{submission.submissionFormat}}</p>
            <p>Willing to Change Format: {{submission.willingToChangePresentationFormat}}</p>
            <p>Willing to be Feature Presentation: {{submission.willingToBeFeaturePresenter}}</p>
            <p>Adviser Approved: {{submission.approval}}</p> <!-- TODO: Change boolean display -->
            <p>Media Services Equipment: {{submission.additionalMediaEquipment}}</p>
            <p>Special Requirements: {{submission.additionalRequirements}}</p> <!-- TODO: Recognize field in interface  -->
            <p>Additional Information: </p> <!-- TODO: Add field  -->
            <p>Date of Submission: {{submission.timestamp}}</p>
        </mat-expansion-panel>

        <div class="abstract">
            <h1>Abstract</h1>
            <p (mouseup)="highlightAbstractToCommentOn()">{{submission.abstractContent}}</p>
        </div>

        <div>
            <p>You are seeing this submission because you are a(n): </p>
        </div>

    </div>

    <div class="submission-comments"> <!-- TODO: Add *ngIf="submission.comments" for comment area -->
        <h2 style="text-align: center">Comments</h2>

        <p>To leave a comment, either highlight the part of the abstract you want to quote or click "New Comment."</p>

        <button mat-button class="new-comment-btn" (click)="makeNewComment()">
            <mat-icon>edit</mat-icon> Comment on Thread
        </button>

        <div class="create-comment" *ngIf="createNewComment">
            <u>Leave a comment without quoting & highlighting:</u>
            <br><br>
            <mat-form-field class="leave-a-comment">
                <textarea matInput placeholder="Leave a comment"></textarea>
            </mat-form-field>

            <button mat-button class="leave-comment-btn">
                <mat-icon>edit</mat-icon> Submit Comment
            </button>
        </div>

        <div class="create-comment" *ngIf="createHightingComment">
            <u>Leave a comment that quotes & highlights the abstract:</u>
            <br><br>
            <i class="quote">"{{selectedText}}"</i>
            <br><br>

            <mat-form-field class="leave-a-comment">
                <textarea matInput placeholder="Leave a comment"></textarea>
            </mat-form-field>

            <button mat-button class="leave-comment-btn">
                <mat-icon>edit</mat-icon> Submit Comment w/Quote
            </button>
        </div>

        <!--TopComments-->
        <div>
            <div class="top-level-comment">
                <i class="material-icons">person_outline</i>
                <b>Submitted by REVIEWER on 3/9/20 at 3:30PM</b>
                <br><br>
                <i class="quote">*long and winding sentence*</i>
                <p>This sentence goes on and on without saying much. Either condense the idea or break it into a few sentences.</p>
                <button mat-button class="respond-comment-btn">
                    <mat-icon>edit</mat-icon> Comment on Comment
                </button>
            </div>
        <!--SubComments-->
            <div class="sub-comment">
                <i class="material-icons">person</i>
                <b>Submitted by STUDENT on 3/9/20 at 4:00PM</b>
                <br>
                <p>Thinking of breaking it up into a few sentences. Will do, thank you.</p>
            </div>

            <div class="create-comments">
                <div class="sub-comment" *ngIf="createSubcomment">
                    <i class="material-icons">person_outline</i>
                    <b>Submitted by REVIEWER on Feb 21, 2:08PM</b>
                    <br>
                    <p>subcomment</p>
                </div>

                <div class="create-comment" *ngIf="createSubcomment">
                    <u>Leave a comment on this comment:</u>
                    <br><br>
                    <mat-form-field class="leave-a-comment">
                        <textarea matInput placeholder="Leave a comment"
                                  (input)="subComment= $event.target.value"></textarea>
                    </mat-form-field>

                    <button mat-button class="leave-comment-btn" (click)="saveSubcomment()">
                        <mat-icon>edit</mat-icon> Submit Comment of Comment [W]
                    </button>
                </div>
            </div>
        </div>
    </div>

</div>

